<%
  # Unit toggle component for switching between 평 (pyeong) and ㎡ (square meters)
  current_unit ||= "pyeong"
  name ||= "area_unit"
  labels ||= { pyeong: "평", sqm: "㎡" }
  id ||= "unit_toggle_#{name}"
%>

<div class="unit-toggle mb-4" data-controller="unit-toggle" 
     data-unit-toggle-current-value="<%= current_unit %>">
  
  <div class="flex items-center justify-center">
    <div class="inline-flex rounded-lg bg-gray-100 p-1">
      <!-- 평 option -->
      <button type="button" 
              class="px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 <%= current_unit == 'pyeong' ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-600 hover:text-gray-900' %>"
              data-unit-toggle-target="pyeongButton"
              data-action="click->unit-toggle#selectPyeong">
        <%= labels[:pyeong] %>
      </button>
      
      <!-- ㎡ option -->
      <button type="button" 
              class="px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 <%= current_unit == 'sqm' ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-600 hover:text-gray-900' %>"
              data-unit-toggle-target="sqmButton"
              data-action="click->unit-toggle#selectSqm">
        <%= labels[:sqm] %>
      </button>
    </div>
  </div>
  
  <!-- Hidden input to store the selected unit -->
  <input type="hidden" name="<%= name %>" value="<%= current_unit %>" data-unit-toggle-target="hiddenInput">
</div>